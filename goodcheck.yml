rules:
  - id: sider.devon_rex.update_changelog_on_based_image_changed
    pattern:
      - token: "FROM ${image} "
        where:
          image: true
    glob: "**/Dockerfile"
    message: |
      Update CHANGELOG.md when you change a based Docker image.
    justification:
      - When CHANGELOG.md is updated already.
  - id: sider.devon_rex.check_java_version
    pattern:
      regexp: |-
        FROM openjdk:16.(.*).(.*)-buster
    glob: "**/Dockerfile.erb"
    message: |
      **DO NOT MERGE!**

      ktlint does not support Java 16.

      * See details on [devon_rex/issues#564](https://github.com/sider/devon_rex/issues/564)
    justification:
      - When ktlint supports Java 16.
  - id: sider.devon_rex.update_changelog_on_npm
    pattern:
      regexp: |-
        "npm": "(.*)"
    glob: "npm/package.json"
    message: |
      Update CHANGELOG.md when you change the npm version.
    justification:
      - When CHANGELOG.md is updated already.


import:
  - https://raw.githubusercontent.com/sider/goodcheck-rules/master/rules/typo.yml
